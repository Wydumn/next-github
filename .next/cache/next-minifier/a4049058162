{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{RNiq:function(e,t,r){\"use strict\";r.r(t);var n=r(\"ln6h\"),a=r.n(n),s=r(\"Pbn2\"),i=r.n(s),c=r(\"4IMT\"),o=r.n(c),u=r(\"MX0m\"),l=r.n(u),p=r(\"q1tI\"),d=r.n(p),m=r(\"yLiY\"),f=r.n(m),b=r(\"/MKj\"),x=d.a.createElement,w=r(\"qoWs\"),h=f()().publicRuntimeConfig;function v(e){var t=e.userRepos,r=e.userStarredRepos,n=e.user;return console.log(t,r),n&&n.id?x(\"div\",{className:\"root\"},x(\"div\",{className:\"user-info\"},x(\"img\",{src:n.avatar_url,alt:\"user avatar\",className:\"avatar\"}),x(\"span\",{className:\"login\"},n.login),x(\"span\",{className:\"name\"},n.name),x(\"span\",{className:\"bio\"},n.bio),x(\"p\",{className:\"email\"},x(i.a,{type:\"email\",style:{marginRight:10}}),x(\"a\",{href:\"mailto:\".concat(n.email)},n.email)))):x(\"div\",{className:\"jsx-2321875535 root\"},x(\"p\",{className:\"jsx-2321875535\"},\"\\u60a8\\u8fd8\\u6ca1\\u6709\\u767b\\u5f55\"),x(o.a,{type:\"primary\",href:h.OAUTH_URL},\"\\u70b9\\u51fb\\u767b\\u5f55\"),x(l.a,{id:\"2321875535\"},[\".root.jsx-2321875535{height:400px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\"]))}v.getInitialProps=function(e){var t,r,n,s,i;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.ctx,r=e.reduxStore,(n=r.getState().user)&&n.id){c.next=4;break}return c.abrupt(\"return\",{isLogin:!1});case 4:return c.next=6,a.a.awrap(w.request({url:\"/user/repos\"},t.req,t.res));case 6:return s=c.sent,c.next=9,a.a.awrap(w.request({url:\"/user/starred\"},t.req,t.res));case 9:return i=c.sent,c.abrupt(\"return\",{isLogin:!0,userRepos:s.data,userStarredRepos:i.data});case 11:case\"end\":return c.stop()}}))},t.default=Object(b.b)((function(e){return{user:e.user}}))(v)},qoWs:function(e,t,r){var n=r(\"ln6h\"),a=r(\"vDqi\"),s=\"https://api.github.com\";function i(e,t,r,i){return n.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,n.awrap(a({method:e,url:\"\".concat(s).concat(t),data:r,headers:i}));case 2:return c.abrupt(\"return\",c.sent);case 3:case\"end\":return c.stop()}}))}var c=!1;e.exports={request:function(e,t,r){var s,o,u,l,p,d,m,f;return n.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=e.method,o=void 0===s?\"GET\":s,u=e.url,l=e.data,p=void 0===l?{}:l,u){r.next=3;break}throw Error(\"url must provide\");case 3:if(!c){r.next=13;break}return d=t.session,m=d.githubAuth||{},f={},m.access_token&&(f.Authorization=\"\".concat(m.token_type,\" \").concat(m.access_token)),r.next=10,n.awrap(i(o,u,p,f));case 10:return r.abrupt(\"return\",r.sent);case 13:return r.next=15,n.awrap(a({method:o,url:\"/github\".concat(u),data:p}));case 15:return r.abrupt(\"return\",r.sent);case 16:case\"end\":return r.stop()}}))},requestGithub:i}},vlRD:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return r(\"RNiq\")}])}},[[\"vlRD\",0,2,5,1,3,6]]]);"}